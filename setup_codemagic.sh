#!/bin/bash

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘  GuÃ­a: Configurar Codemagic para generar IPA             â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

echo "ğŸ“± PASO 1: Crear cuenta en Codemagic"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "1. Ir a: https://codemagic.io/signup"
echo "2. Sign up con tu cuenta de GitHub"
echo "3. Autorizar Codemagic a acceder a tus repos"
echo ""
read -p "âœ“ Presiona ENTER cuando hayas creado la cuenta..."
echo ""

echo "ğŸ“± PASO 2: Conectar repositorio"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "1. En Codemagic, click 'Add application'"
echo "2. Seleccionar 'GitHub'"
echo "3. Buscar tu repo (ejemplo: nequix-ios)"
echo "4. Click 'Select'"
echo ""
read -p "âœ“ Presiona ENTER cuando hayas conectado el repo..."
echo ""

echo "ğŸ“± PASO 3: Configurar Apple Developer"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "âš ï¸  IMPORTANTE: Necesitas Cuenta Apple Developer (\$99/aÃ±o)"
echo ""
echo "1. En Codemagic â†’ Teams â†’ [Tu team] â†’ Integrations"
echo "2. Click 'Apple Developer Portal'"
echo "3. Agregar tus credenciales de Apple Developer"
echo "4. Generar certificado de firma"
echo ""
echo "Opciones:"
echo "  a) Dejar que Codemagic genere certificados (recomendado)"
echo "  b) Subir certificados existentes"
echo ""
read -p "âœ“ Presiona ENTER cuando hayas configurado..."
echo ""

echo "ğŸ“± PASO 4: Configurar Build"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "1. En tu app, click 'Start new build'"
echo "2. Seleccionar workflow: 'ios-release'"
echo "3. Click 'Start new build'"
echo ""
echo "El build toma ~15-20 minutos la primera vez"
echo ""
read -p "âœ“ Presiona ENTER para ver costos..."
echo ""

echo "ğŸ’° COSTOS DE CODEMAGIC"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Plan Free:"
echo "  â€¢ 500 minutos/mes gratis (macOS M1)"
echo "  â€¢ ~25 minutos por build iOS"
echo "  â€¢ = ~20 builds gratis/mes"
echo ""
echo "Plan Pro:"
echo "  â€¢ \$40/mes"
echo "  â€¢ Minutos ilimitados"
echo ""
echo "Cuenta Apple Developer:"
echo "  â€¢ \$99/aÃ±o (OBLIGATORIO para iOS)"
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""

echo "ğŸ“± PASO 5: Descargar IPA"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "Cuando el build termine:"
echo "1. Click en el build"
echo "2. Tab 'Artifacts'"
echo "3. Descargar el archivo .ipa"
echo ""
echo "Â¡Listo! Ya tienes tu IPA de iOS"
echo ""

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘  âœ… ConfiguraciÃ³n completa                                â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""
echo "URLs Ãºtiles:"
echo "â€¢ Codemagic: https://codemagic.io"
echo "â€¢ Apple Developer: https://developer.apple.com"
echo "â€¢ Docs Codemagic: https://docs.codemagic.io/yaml-quick-start/building-a-native-ios-app/"
echo ""
